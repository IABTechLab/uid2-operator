name: Run operator E2E tests
on:
  workflow_dispatch:
    inputs:
      operator_image_version:
        description: If set, the version number will not be incremented and the given number will be used.
        type: string
        default: 'latest'
  workflow_call:
    inputs:
      operator_image_version:
        description: If set, the version number will not be incremented and the given number will be used.
        type: string
        default: 'latest'

jobs:
  e2e-test:
    name: E2E Test
    uses: IABTechLab/uid2-shared-actions/.github/workflows/shared-run-e2e-tests.yaml@kcc-UID2-2338-build-test-pipeline-for-operator
    with:
      operator_image_version: ${{ inputs.operator_image_version }}
      operator_root: '..'
    secrets: inherit